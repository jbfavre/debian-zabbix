--- a/src/libs/zbxnix/daemon.c
+++ b/src/libs/zbxnix/daemon.c
@@ -371,7 +371,7 @@ int	daemon_start(int allow_root, const c
 		if (-1 == chdir("/"))	/* this is to eliminate warning: ignoring return value of chdir */
 			assert(0);
 
-		zbx_handle_log();
+		zbx_redirect_stdio(LOG_TYPE_FILE == CONFIG_LOG_TYPE ? CONFIG_LOG_FILE : NULL);
 	}
 
 	if (FAIL == create_pid_file(CONFIG_PID_FILE))
