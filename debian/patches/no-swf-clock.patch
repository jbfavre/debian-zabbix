Description: removal of Flash clock that does not have its source code included
Author: Christoph Haas <haas@debian.org>
Bug-Zabbix: https://support.zabbix.com/browse/ZBX-4794
Forwarded: 2012-03-22

Index: zabbix/frontends/php/include/classes/api/services/CScreenItem.php
===================================================================
--- zabbix.orig/frontends/php/include/classes/api/services/CScreenItem.php	2014-09-13 15:11:43.392773210 +0300
+++ zabbix/frontends/php/include/classes/api/services/CScreenItem.php	2014-09-13 15:11:43.304772800 +0300
@@ -42,7 +42,8 @@
 		SCREEN_RESOURCE_HOSTS_INFO,
 		SCREEN_RESOURCE_TRIGGERS_INFO,
 		SCREEN_RESOURCE_SERVER_INFO,
-		SCREEN_RESOURCE_CLOCK,
+		# Flash clock is not shipped with Debian as the source code is not available
+		#SCREEN_RESOURCE_CLOCK,
 		SCREEN_RESOURCE_SCREEN,
 		SCREEN_RESOURCE_TRIGGERS_OVERVIEW,
 		SCREEN_RESOURCE_DATA_OVERVIEW,
Index: zabbix/frontends/php/include/screens.inc.php
===================================================================
--- zabbix.orig/frontends/php/include/screens.inc.php	2014-09-13 15:11:43.392773210 +0300
+++ zabbix/frontends/php/include/screens.inc.php	2014-09-13 15:11:43.304772800 +0300
@@ -25,7 +25,8 @@
 
 function screen_resources($resource = null) {
 	$resources = array(
-		SCREEN_RESOURCE_CLOCK => _('Clock'),
+		# Debian does not ship the Flash clock as the source code is not available
+		#SCREEN_RESOURCE_CLOCK => _('Clock'),
 		SCREEN_RESOURCE_DATA_OVERVIEW => _('Data overview'),
 		SCREEN_RESOURCE_GRAPH => _('Graph'),
 		SCREEN_RESOURCE_ACTIONS => _('Action log'),
